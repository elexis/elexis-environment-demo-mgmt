doctype html
html(lang="de")
  head
    meta(http-equiv="pragma" content="no-cache") 
    meta(http-equiv="expires" content="-1")
    title Elexis Environment Management
  body
    h1 Elexis Environment Management

    script.
      document.write('<h2><a href="' + window.location.protocol + '//' + window.location.hostname + ':6688' + '" target="_blank" >Follow Log output</a></h2>' );

    h2 Actions
    form(name="setup", action="/hooks/ee-status", method='get', target='_blank')
     input(type='submit', value='EE status (ee system cmd ps)')
    form(name="setup", action="/hooks/ee-setup-configure", method='get', target='_blank')
     input(type='submit', value='Configure EE (ee setup configure)')
    form(name="start", action="/hooks/ee-start", method='get', target='_blank')
     input(type='submit', value='Startup EE (ee system cmd up -d --build)', target='_blank')
    form(name="stop", action="/hooks/ee-stop", method='get')
     input(type="submit", value="Shutdown EE (ee system cmd stop)")
     
    h2 Reconfigure/Reset this instance
    form(name="hostname", action="/hooks/ee-reset-instance", method='post', autocomplete='off')
     p Hostname <i>(e.g. base.elexisdemo.ch)</i>
        input(type="text", name='hostname', value="#{EE_HOSTNAME}")
     p Organisation <i>(Spaces via double underscore)</i>
        input(type='text', name='organisationname', value='#{ORGANISATION_NAME}')
     p Organisation Domain <i>(e.g. elexisdemo.ch)</i>
        input(type='text', name='organisationdomain', value='#{ORGANSATION_DOMAIN}')
     p Organisation Base Dn <i>(e.g. dc=elexisdemo,dc=ch)</i>
        input(type='text', name='organisationbasedn', value='#{ORGANISATION_BASE_DN}')
     p Admin Email
        input(type='text', name='adminemail', value='#{ADMIN_EMAIL}')
     input(type='submit', value='!!! Update .env configuration, perform full ee reset and system reboot !!!')